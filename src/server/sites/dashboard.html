<!DOCTYPE html>
<html>
<style>
    
    .serverList {
        list-style-type: none;
        margin: 4px;
        padding: 0;
        height:100%;
        
    }
    .component_holder{
        border: 1px solid #555;
        border-radius: 5px;
        margin: 4px;
        padding: 10px;
    }

</style>

<body>

    <div id="row" style="display:flex">
        <div class ="component_holder" id="column-left" style="width: 80%;">
            <div  style="display: flex; height: 600px;">
                <h1>Random ass graf</h1>
            </div>
        <div id="table-scroll">
            <p id="Test0"></p>
        </div>
        </div>
        
            



        <div class="component_holder" id="column-right" style="width:20%;">    
                <ul class="serverList"></ul>
        </div>
    </div>


</body>

</html>

<script>

    //TODO: change from relative paths to absolute, do this dynamically
    async function fetch_component(url) {
        const response = await fetch(url);

        const data = response.json();

        return data;
    }

    async function add_component_to_DOM(placement, component_route) {
        let component = await fetch_component(component_route);
        placement.insertAdjacentHTML('beforeend', component[0]["html"]);
        let script = document.createElement('script');
        script.textContent = component[0]["js"];
        placement.appendChild(script);
    }

    document.addEventListener("DOMContentLoaded", async function () {

        //add_component_to_DOM(document.getElementById("column2"), "/internal/db_controls");
        add_component_to_DOM(document.getElementById("column-left"), "/components/test");
        add_component_to_DOM(document.getElementById("column-right"), "/components/serverList");

    })
</script>